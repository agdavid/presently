<div class="list">
  <h4><span ng-bind="list.user.username"></span>'s list</h4>
  <table style="padding-left: 10px;">
    <tr>
      <th>name</th>
      <th>price</th>
      <th>external url</th>
      <th ng-if="!userEqualsOwner()">purchaser</th>
    </tr>
    <tr ng-repeat="item in list.items">
      <td ng-bind="item.name"></td>
      <td>$<span ng-bind="item.price"></span></td>
      <td ng-bind="item.url"></td>
      <td ng-if="!userEqualsOwner()">
        <span ng-if="item.purchaser" ng-bind="item.purchaser.username"></span>
        <span ng-if="currentUser.id == item.purchaser.id"><a href="" ng-click="unpurchase(item)">unpurchase</a></span>
        <span ng-if="!item.purchaser">none - <a href="" ng-click="purchase(item)">purchase</a></span>
        <span><a ui-sref="itemShow({id: item.id})">view</a></span>
      </td>
      <td ng-if="userEqualsOwner()"><a ui-sref="itemEdit({id: item.id})">view/edit</a></td>
      <td ng-if="userEqualsOwner()"><a href="" ng-click="deleteItem(item)">delete</a></td>
    </tr>
  </table>
</div>

<!-- if you're viewing someone else's list -->
<div ng-if="!userEqualsOwner()">
  <div id="usersEvents">
    <h4><span ng-bind="listsUser.username"></span>'s events</h4>
    <ul>
      <li ng-repeat="event in listsUser.events"><span ng-bind="event.name"></span> is on <span ng-bind="event.date"></span></li>
    </ul>
  </div>  <!-- usersEvents -->
</div>

<!-- if it's your list -->

<!-- novalidate as attr in below form? -->
<!-- ng-if="userEqaulsOwner()"  -->
<form ng-submit="createItem(new_item)">
  <input value="name" ng-model="new_item.items.name" placeholder="name" />
  <input value="price" ng-model="new_item.items.price" placeholder="price" />
  <input value="url" ng-model="new_item.items.url" placeholder="url" />
  <input type="submit" value="add item" />
</form>
